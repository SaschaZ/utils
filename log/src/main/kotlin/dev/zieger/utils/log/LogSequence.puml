@startuml
'https://plantuml.com/sequence-diagram

autonumber

Log -> LogScope: Log
LogScope -> LogContext: v
LogContext -> LogContext: out
LogContext -> LogContext: build LogMessageContext
LogContext -> LogPipeline : process
LogPipeline -> LogPipeline : build LogPipelineContext
LogPipeline -> LogPipeline : execute pre-hooks
LogPipeline -> LogMessageBuilder : buildMessage
return log message
LogPipeline -> LogPipeline : execute post-hooks

@enduml